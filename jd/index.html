<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>京东</title>
    <link rel="stylesheet" type="text/css" href="css/index.css" />
</head>

<body>
    <div class="jd">
        <!--搜索栏-->
        <header>
            <!--logo-->
            <a href="#####" class="logo"></a>
            <!--搜索框-->
            <div class="ssk">
                <input type="text" placeholder="100万件超级爆品疯抢">
            </div>
            <!--登录-->
            <a href="javascript:;" class="login">登录</a>
        </header>
        <!--轮播图-->
        <div class="carousel">
            <ul class="carousel-ul clearfix">
                <li>
                    <a href="javascript:;"><img src="./uploads/l8.jpg" alt=""></a>
                </li>
                <li>
                    <a href="javascript:;"><img src="./uploads/l1.jpg" alt=""></a>
                </li>
                <li>
                    <a href="javascript:;"><img src="./uploads/l2.jpg" alt=""></a>
                </li>
                <li>
                    <a href="javascript:;"><img src="./uploads/l3.jpg" alt=""></a>
                </li>
                <li>
                    <a href="javascript:;"><img src="./uploads/l4.jpg" alt=""></a>
                </li>
                <li>
                    <a href="javascript:;"><img src="./uploads/l5.jpg" alt=""></a>
                </li>
                <li>
                    <a href="javascript:;"><img src="./uploads/l6.jpg" alt=""></a>
                </li>
                <li>
                    <a href="javascript:;"><img src="./uploads/l7.jpg" alt=""></a>
                </li>
                <li>
                    <a href="javascript:;"><img src="./uploads/l8.jpg" alt=""></a>
                </li>
                <li>
                    <a href="javascript:;"><img src="./uploads/l1.jpg" alt=""></a>
                </li>
            </ul>
            <ul class="indexer clearfix">
                <li class="active"></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
        <!--导购栏-->
        <nav>
            <ul class="clearfix">
                <li>
                    <a href="">
                        <img src="./images/nav_1.png" />
                        <p>京东商城</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="./images/nav_2.png" />
                        <p>进口商城</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="./images/nav_3.png" />
                        <p>充值中心</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="./images/nav_4.png" />
                        <p>尚新商城</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="./images/nav_5.png" />
                        <p>摇钱罐</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="./images/nav_6.png" />
                        <p>卡卷包</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="./images/nav_7.png" />
                        <p>快递物流</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="./images/nav_8.png" />
                        <p>爱心满满</p>
                    </a>
                </li>
            </ul>
        </nav>
        <!--掌上秒杀-->
        <div class="hand-skill">
            <!--计时栏-->
            <div class="top-skill">
                <span class="clock"></span>
                <span class="kill-font">掌上秒杀</span>
                <div class="timer">
                    <span>0</span>
                    <span>4</span>
                    <span>:</span>
                    <span>5</span>
                    <span>3</span>
                    <span>:</span>
                    <span>3</span>
                    <span>0</span>
                </div>
                <a href="javascript:;">更多秒杀 > </a>
            </div>
            <!-- 内容 -->
            <div class="kill-content">
                <ul class="clearfix">
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/seckill_1.jpg" alt="">
                            <span class="hot-sell">热卖</span>
                            <span class="new-price">￥79 </span>
                            <del>￥139</del>
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/seckill_2.jpg" alt="">
                            <span class="hot-sell">热卖</span>
                            <span class="new-price">￥79 </span>
                            <del>￥139</del>
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/seckill_3.jpg" alt="">
                            <span class="hot-sell">热卖</span>
                            <span class="new-price">￥79 </span>
                            <del>￥139</del>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!--618-->
        <div class="jd-618">
            <!-- 头部 -->
            <div class="jd-618-title">
                <a href="javascript:;" class="big-img">
                    <img src="./uploads/banner_bg.jpg" alt="">
                </a>
                <ul class="clearfix">
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/banner_1.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/banner_2.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/banner_3.jpg" alt="">
                        </a>
                    </li>
                </ul>
            </div>
            <!-- 内容 -->
            <div class="jd-618-content">
                <ul class="clearfix">
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/major_1.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/major_2.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/major_3.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/major_4.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/major_5.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/major_6.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/major_7.jpg" alt="">
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!--广告-->
        <div class="adv">
            <a href="javascript:;">
                <img src="./uploads/advert_1.jpg" alt="">
            </a>
        </div>
        <!--特色超市-->
        <div class="market">
            <!-- 头部 -->
            <div class="market-title">
                <h4 class="goods-title">特色超市</h4>
            </div>
            <!-- 内容 -->
            <div class="market-content">
                <ul class="clearfix">
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/market_1.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/market_2.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/market_3.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/market_4.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/market_5.jpg" alt="">
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="adv">
            <a href="javascript:;">
                <img src="./uploads/advert_2.jpg" alt="">
            </a>
        </div>
        <!--主题街-->
        <div class="theme">
            <div class="theme-title">
                <h4 class="goods-title">主题街</h4>
            </div>
            <!-- 内容 -->
            <div class="theme-content">
                <ul class="clearfix">
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/theme_1.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/theme_2.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/theme_3.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/theme_4.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/theme_5.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/theme_6.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/theme_7.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/theme_8.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/theme_9.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/theme_10.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/theme_11.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/theme_12.jpg" alt="">
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!--广告-->
        <div class="adv">
            <a href="javascript:;">
                <img src="./uploads/advert_3.jpg" alt="">
            </a>
        </div>
        <!--品牌推荐-->
        <div class="brand">
            <div class="brand-title">
                <h4 class="goods-title">品牌推荐</h4>
            </div>
            <div class="brand-content">
                <ul class="clearfix">
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/brand_1.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/brand_2.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="./uploads/brand_3.jpg" alt="">
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="adv">
            <a href="javascript:;">
                <img src="./uploads/advert_4.jpg" alt="">
            </a>
        </div>
        <!--猜你喜欢-->
        <div class="guess">
            <div class="guess-title">
                <h4 class="goods-title">
          			猜你喜欢
          <a href="javascript:;">
            <img src="./images/icon-login.png" alt=""> 登录后更懂你 > </a>
        </h4>
            </div>
            <!--  内容 -->
            <div class="guess-content">
                <ul class="clearfix">
                    <li>
                        <div class="item-title">
                            <span>￥25</span>
                            <a href="javascript:;">看相似</a>
                        </div>
                        <div class="item-content">
                            <img src="./uploads/item_1.jpg" alt="">
                            <p>曼秀雷敦</p>
                        </div>
                    </li>
                    <li>
                        <div class="item-title">
                            <span>￥2005</span>
                            <a href="javascript:;">看相似</a>
                        </div>
                        <div class="item-content">
                            <img src="./uploads/item_2.jpg" alt="">
                            <p>ipa</p>
                        </div>
                    </li>
                    <li>
                        <div class="item-title">
                            <span>￥25</span>
                            <a href="javascript:;">看相似</a>
                        </div>
                        <div class="item-content">
                            <img src="./uploads/item_3.jpg" alt="">
                            <p>迪士尼（Disney）防水夜光儿童手表男孩蓝色米奇电子表 多功能运动表男童学生手表80008-1</p>
                        </div>
                    </li>
                    <li>
                        <div class="item-title">
                            <span>￥205</span>
                            <a href="javascript:;">看相似</a>
                        </div>
                        <div class="item-content">
                            <img src="./uploads/item_4.jpg" alt="">
                            <p>花台</p>
                        </div>
                    </li>
                    <li>
                        <div class="item-title">
                            <span>￥205</span>
                            <a href="javascript:;">看相似</a>
                        </div>
                        <div class="item-content">
                            <img src="./uploads/item_5.jpg" alt="">
                            <p>原版苹果耳机</p>
                        </div>
                    </li>
                    <li>
                        <div class="item-title">
                            <span>￥255</span>
                            <a href="javascript:;">看相似</a>
                        </div>
                        <div class="item-content">
                            <img src="./uploads/item_6.jpg" alt="">
                            <p>平面体重秤</p>
                        </div>
                    </li>
                    <li>
                        <div class="item-title">
                            <span>￥251</span>
                            <a href="javascript:;">看相似</a>
                        </div>
                        <div class="item-content">
                            <img src="./uploads/item_7.jpg" alt="">
                            <p>登山包</p>
                        </div>
                    </li>
                    <li>
                        <div class="item-title">
                            <span>￥215</span>
                            <a href="javascript:;">看相似</a>
                        </div>
                        <div class="item-content">
                            <img src="./uploads/item_8.jpg" alt="">
                            <p>沙发靠枕</p>
                        </div>
                    </li>
                    <li>
                        <div class="item-title">
                            <span>￥285</span>
                            <a href="javascript:;">看相似</a>
                        </div>
                        <div class="item-content">
                            <img src="./uploads/item_9.jpg" alt="">
                            <p>壁画</p>
                        </div>
                    </li>
                    <li>
                        <div class="item-title">
                            <span>￥225</span>
                            <a href="javascript:;">看相似</a>
                        </div>
                        <div class="item-content">
                            <img src="./uploads/item_10.jpg" alt="">
                            <p>经济学课本</p>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <!--底部工具栏-->
        <div class="bottom-tool">
            <a href="javascript:;" class="more">点击加载更多</a>
            <!-- 底部链接 -->
            <div class="bottom-link clearfix">
                <a href="javascript:;">登录</a>
                <a href="javascript:;">注册</a>
                <a href="javascript:;">反馈</a>
                <a href="javascript:;">回到顶部</a>
            </div>
            <!-- 设备 -->
            <div class="devices clearfix">
                <a href="javascript:;">
                    <span></span>
                    <p>客户端</p>
                </a>
                <a href="javascript:;">
                    <span class="s1"></span>
                    <p>触屏版</p>
                </a>
                <a href="javascript:;">
                    <span class="s2"></span>
                    <p>电脑版</p>
                </a>
            </div>
            <!-- 版权所有 -->
            <div class="copyright">
                Copyright © 2004-2016 京东JD.com 版权所有
            </div>
        </div>
        <!-- 撑开底部的距离!  -->
        <div class="margin-bottom">
            <img src="./images/618-icon.png" alt="">
        </div>
        <footer class="clearfix">
            <a href="javascript:;">
                <img src="./images/index-icon.png" alt="">
            </a>
            <a href="javascript:;">
                <img src="./images/sort-icon.png" alt="">
            </a>
            <a href="javascript:;">
                <img src="./images/618-icon.png" alt="">
            </a>
            <a href="javascript:;">
                <img src="./images/cart-icon.png" alt="">
            </a>
            <a href="javascript:;">
                <img src="./images/center-icon.png" alt="">
            </a>
        </footer>
    </div>
</body>

</html>
<script src="js/jquery.min.js"></script>
<script type="text/javascript">
//获取操作对象
//var header = document.querySelector("header");
//var carousel_height = document.querySelector(".carousel").offsetHeight;
//window.onscroll = function () { //滚动事件
//  //滚动位置
//  var scrollTop = document.body.scrollTop || window.pageYOffset || document.documentElement.scrollTop;
//
//  var tmpOpa = scrollTop / carousel_height;
//  if (tmpOpa > 0.9) {
//    tmpOpa = 0.9;
//  }
//  header.style.backgroundColor = "rgba(201, 21, 35, " + tmpOpa + ")"; //改变透明度
$(function() {

    $(window).scroll(function() {
        var winTop = $(window).scrollTop();
        if (winTop > 190) {
            $('header').animate().css({
                backgroundColor: 'rgba(201, 21, 35,0.9)'
            })
        } else {
            $('header').css({
                backgroundColor: 'rgba(201, 21, 35,0)'
            })
        }
    })
})
timeout(); //调用倒计时
//倒计时
function timeout() {
    var time = 15 * 60 * 60; //设置一个总时长
    var spans = document.querySelectorAll('.timer>span'); //获取要操作的对象
    //console.log(spans);

    var timeid = setInterval(function() {
        time--;
        spanSet();

    }, 1000)

    function spanSet() {
        var hour = parseInt(time / 60 / 60); //获取小时数
        var minutes = parseInt(time / 60 - hour * 60); //获取分钟数
        var seconds = time - hour * 60 * 60 - minutes * 60; //获取秒数
        var hour0 = parseInt(hour / 10);
        var hour1 = hour % 10;
        var minutes0 = parseInt(minutes / 10);
        var minutes1 = minutes % 10;
        var seconds0 = parseInt(seconds / 10);
        var seconds1 = seconds % 10;
        //写入到对应的标签
        spans[0].innerHTML = hour0;
        spans[1].innerHTML = hour1;
        spans[3].innerHTML = minutes0;
        spans[4].innerHTML = minutes1;
        spans[6].innerHTML = seconds0;
        spans[7].innerHTML = seconds1;
    }

}

lBotu('.carousel-ul'); //调用轮播方法
function lBotu(en) {
    //或许要操作的对象
    var carouselul = document.querySelector(en);
    //console.log(carouselul);
    //设置图片索引
    var index = 1;
    //设置位移
    carouselul.style.transform = "translateX(-" + index + "0%)";

    var timeId = timeGo(); //开启定时器
    //过渡结束事件transitionend
    carouselul.addEventListener('transitionend', function() {
        if (index >= 9) {
            index = 1;
            carouselul.style.transition = 'none';
            carouselul.style.transform = 'translateX(-' + index + '0%)';
        } else if (index <= 0) {
            index = 8;
            console.log(index);
            carouselul.style.transition = 'none';
            carouselul.style.transform = 'translateX(-	' + index + '0%)';
        }
        var i = index - 1; //关联索引器
        activeLi(i, '.indexer>li');
    });
    //轮播图左右滑动事件
    itcast(carouselul).swipe(function(d) {
        //先清除定时器
        clearInterval(timeId);
        switch (d) { //调用封装函数
            case "left":
                index++; //往左滑图片+一张
                break;
            case "right":
                index--; //往右滑图片-一张
                break;
            default:
                break;
        }
        carouselul.style.transition = 'transform.5s';
        carouselul.style.transform = 'translateX(-' + index + '0%)';

        //重新开启定时器
        timeId = timeGo();
    });
    //定时轮播
    function timeGo() {
        return setInterval(function() {
            index++;
            carouselul.style.transition = 'transform.5s';
            carouselul.style.transform = 'translateX(-' + index + '0%)'; //设置位移
        }, 1000)
    }
    //关联索引
    function activeLi(indexs, m) {
        //获取所有的li标签
        var lis = document.querySelectorAll(m);
        //遍历所有li标签
        for (var i = 0; i < lis.length; i++) {
            var element = lis[i];
            element.classList.remove("active"); //删除类
        }
        lis[indexs].classList.add("active"); //添加类
    }

    function itcast(dom) {
        var obj = {
            tap: function(callback) {
                // 按下的坐标
                var startX, startY;
                // 按下的时间
                var startTime;
                // 手指按下
                dom.addEventListener("touchstart", function(e) {
                    // 判断手指的个数
                    if (e.targetTouches.length > 1) {
                        return;
                    }

                    // 记录按下的坐标
                    startX = e.targetTouches[0].clientX;
                    startY = e.targetTouches[0].clientY;

                    //  console.log(startX,startY);
                    // 记录按下的时间
                    // Date.now() 和 new date() da.getTime();
                    // 返回的是1970 1 1 到现在的 时间戳 
                    startTime = Date.now();
                    // console.log(startTime);
                })

                // 手指离开
                dom.addEventListener("touchend", function(e) {
                    // 判断手指的个数
                    if (e.changedTouches.length > 1) {
                        return;
                    }

                    // 离开的坐标
                    var endX = e.changedTouches[0].clientX;
                    var endY = e.changedTouches[0].clientY;

                    // 计算移动了的距离
                    if (Math.abs(endX - startX) > 5) {
                        return;
                    }
                    if (Math.abs(endY - startY) > 5) {
                        return;
                    }

                    // 记录离开的时间
                    var endTime = Date.now();
                    // 毫秒的
                    if (endTime - startTime > 200) {
                        return;
                    }

                    // 执行自己tap点击逻辑
                    callback();
                })
            },
            swipe: function(callback) {
                // 开始的坐标
                var startX, startY;
                var startTime;
                dom.addEventListener("touchstart", function(e) {
                    // 判断手指的个数
                    if (e.targetTouches.length > 1) {
                        return;
                    }

                    //  记录坐标
                    startX = e.targetTouches[0].clientX;
                    startY = e.targetTouches[0].clientY;

                    // 按下的时间
                    startTime = Date.now();


                })

                // 离开
                dom.addEventListener("touchend", function(e) {
                    // 判断手指的个数
                    if (e.changedTouches.length > 1) {
                        return;
                    }

                    // 记录结束的坐标
                    var endX = e.changedTouches[0].clientX;
                    var endY = e.changedTouches[0].clientY;

                    // 方向
                    var direction = "";

                    // 判断水平距离
                    if (Math.abs(endX - startX) > 15) {
                        //  判断方向 
                        direction = endX > startX ? "right" : "left";
                    } else if (Math.abs(endY - startY) > 15) {
                        // 判断方向
                        direction = endY > startY ? "down" : "up";
                    } else {
                        return;
                    }

                    // 记录结束时间
                    var endTime = Date.now();

                    if (endTime - startTime > 600) {
                        return;
                    }

                    // 执行逻辑
                    // console.log(direction);
                    callback(direction);
                })
            }
        };
        return obj;
    }

}
</script>
